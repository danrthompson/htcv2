/**!
 * trunk8 v1.2.3
 * https://github.com/rviscomi/trunk8
 * 
 * Copyright 2012 Rick Viscomi
 * Released under the MIT License.
 * 
 * Date: September 9, 2012
 */
!function(e){function t(){var t,i,s,o,l=r.width,c=r.side,h=r.fill,u=n.getLineHeight(this)*r.lines,d=this.data("trunk8")||this.text(),p=d.length,f="";if(this.html(d).data("trunk8",d),l===a.auto){if(this.height()<=u)return;for(t=0,i=p-1;i>=t;)s=t+(i-t>>1),o=n.eatStr(d,c,p-s,h),this.html(o),this.height()>u?i=s-1:(t=s+1,f=f.length>o.length?f:o);this.html(""),this.html(f),r.tooltip&&this.attr("title",d)}else isNaN(l)?e.error('Invalid width "'+l+'".'):(s=p-l,o=n.eatStr(d,c,s,h),this.html(o),r.tooltip&&this.attr("title",d))}var i,n,s={center:"center",left:"left",right:"right"},a={auto:"auto"},r={fill:"&hellip;",lines:1,side:s.right,tooltip:!0,width:a.auto};i={init:function(i){return r=e.extend(r,i),this.each(function(){t.call(e(this))})},update:function(i){return this.each(function(){i&&e(this).data("trunk8",i),t.call(e(this))})},revert:function(){return this.each(function(){var t=e(this).data("trunk8");e(this).html(t)})},getSettings:function(){return r}},n={eatStr:function(t,i,a,r){var o,l,c=t.length,h=n.eatStr.generateKey.apply(null,arguments);if(n.eatStr.cache[h])return n.eatStr.cache[h];if(("string"!=typeof t||0===c)&&e.error('Invalid source string "'+t+'".'),0>a||a>c)e.error('Invalid bite size "'+a+'".');else if(0===a)return t;switch("string"!=typeof(r+"")&&e.error("Fill unable to be converted to a string."),i){case s.right:return n.eatStr.cache[h]=e.trim(t.substr(0,c-a))+r;case s.left:return n.eatStr.cache[h]=r+e.trim(t.substr(a));case s.center:return o=c>>1,l=a>>1,n.eatStr.cache[h]=e.trim(n.eatStr(t.substr(0,c-o),s.right,a-l,""))+r+e.trim(n.eatStr(t.substr(c-o),s.left,l,""));default:e.error('Invalid side "'+i+'".')}},getLineHeight:function(t){var i,n=e(t).html(),s="line-height-test";return e(t).html("i").wrap('<div id="'+s+'" />'),i=e("#"+s).innerHeight(),e(t).html(n).unwrap(),i}},n.eatStr.cache={},n.eatStr.generateKey=function(){return Array.prototype.join.call(arguments,"")},e.fn.trunk8=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.trunk8"),void 0):i.init.apply(this,arguments)}}(jQuery);