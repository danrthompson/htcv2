= image_tag 'credit_cards/credit_card.gif', :id => 'credit-card-image'
- param_prefix = "payment_source[#{payment_method.id}]"
%p.field{"data-hook" => "card_number"}
  = label_tag "card_number", Spree.t(:card_number)
  %span.required *
  %br/
  - options_hash = Rails.env.production? ? {:autocomplete => 'off'} : {}
  = text_field_tag "#{param_prefix}[number]", '', options_hash.merge(:id => 'card_number', :class => 'required form-control ', :size => 19, :maxlength => 19, :autocomplete => "off")
  \&nbsp;
  %span#card_type{:style => "display:none;"}
    (
    %span#looks_like
      = Spree.t(:card_type_is)
      %span#type
    %span#unrecognized= Spree.t(:unrecognized_card_type)
    )
%p.field#card-expiration{"data-hook" => "card_expiration"}
  = label_tag "card_month", Spree.t(:expiration)
  %span.required *
  %br/
  = select_month(Date.today, { :prefix => param_prefix, :field_name => 'month', :use_month_numbers => true }, :class => 'required form-control float-left rpadding-5', :id => "card_month")
  = select_year(Date.today, { :prefix => param_prefix, :field_name => 'year', :start_year => Date.today.year, :end_year => Date.today.year + 15 }, :class => 'required form-control float-left rpadding-5', :id => "card_year")
%p.field.float-left#card_code_wrapper{"data-hook" => "card_code"}
  = label_tag "card_code", Spree.t(:card_code)
  %span.required *
  %br/
  = text_field_tag "#{param_prefix}[verification_value]", '', options_hash.merge(:id => 'card_code', :class => 'required form-control', :size => 5)
  = link_to "(#{Spree.t(:what_is_this)})", spree.content_path('cvv'), :target => '_blank', "data-hook" => "cvv_link", :id => "cvv_link"
= hidden_field param_prefix, 'first_name', :value => @order.billing_firstname
= hidden_field param_prefix, 'last_name', :value => @order.billing_lastname
